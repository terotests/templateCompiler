var templateCompiler_prototype=function(){"use strict";!function(t){t.guid=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.isDataTrait=function(t){return t.__dataTr?!0:void 0},t.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},t.isObject=function(t){return"undefined"==typeof t?this.__isO:t===Object(t)}}(this),function(t){var e,a;t.compile=function(t,e){var r,i={tagName:"DIV",tplData:null};if(e){var n=document.createElement(e);n.innerHTML=t,i.tagName=e,a[i.tagName.toLowerCase()]&&(r="svg")}else{var n=document.createElement("DIV");n.innerHTML=t}return i.tplData=this.parseNode(n,r),i},t.__traitInit&&!t.hasOwnProperty("__traitInit")&&(t.__traitInit=t.__traitInit.slice()),t.__traitInit||(t.__traitInit=[]),t.__traitInit.push(function(){e||(e=_e(),a={circle:"true",rect:!0,path:!0,svg:!0,image:!0,line:!0,text:!0,tspan:!0,g:!0,pattern:!0,polygon:!0,polyline:!0,clippath:!0,defs:!0,textpath:!0,feoffset:!0,femerge:!0,femergenode:!0,fegaussianblur:!0,filter:!0})}),t.parseMustache=function(t){var e=t.split("{{"),a=e.length;if(2>a)return[t];for(var r=[],i=0;i<e.length;i++){var n=e[i];if(0!=n.length){var s=n.split("}}");s.length>1?(r.push("{{"+s[0]+"}}"),r.push(s[1])):r.push(n)}}return r},t.parseNode=function(t,e){if(8==t.nodeType)return null;var r={tagName:t.tagName,type:t.nodeType,children:[],attributes:[],classTemplates:{},dataAttrs:{},ns:e};if(r.tagName){var i=r.tagName.toLowerCase();a[i]&&(e="svg","svg"!=i&&(r.ns="svg")),r.tagName=i}var n=!1;t.nodeName&&"input"==t.nodeName.toLowerCase()&&(n=!0);var s;if(n&&(s=t.getAttribute("data-input-value"))&&(r.value=s,r.valueParts=this.parseTemplateParts(s)),t.value&&!s&&(r.value=t.value,r.valueParts=this.parseTemplateParts(r.value)),t.attributes)for(var o=0;o<t.attributes.length;o++){var l=t.attributes[o];if(l.specified){var p=l.name,u=l.value;"data"==p.substring(0,4)&&(r.dataAttrs[p]=u),r.attributes.push([p,u,this.parseTemplateParts(u)])}}t.childNodes&&0!=t.childNodes.length||(r.text=t.textContent,r.txtParts=this.parseTemplateParts(r.text));var c=t.childNodes;if(c)for(var f=c.length,o=0;f>o;o++){var h=c[o],m=this.parseNode(h,e);m&&r.children.push(m)}var d;if(r&&(d=r.dataAttrs["data-class-switch"])){r.useClass=!0,r.classSwitch=d;for(var v=0;v<r.children.length;v++){var g=r.children[v];if(g.dataAttrs){var _=g.dataAttrs["data-class"];_&&(r.classTemplates[_]=g)}}}return r},t.parseTemplateParts=function(t){var e={list:null,tokens:{},hasTokens:!1};if(!t||0==t.length)return null;for(var a=e.list=this.parseMustache(t),r=0;r<a.length;r++){var i=a[r];if(i.length>3&&"{"==i.charAt(0)&&"{"==i.charAt(1)){e.hasTokens=!0;var n=i.substring(2,i.length-2);e.tokens[r]=n}}return e}}(this)},templateCompiler=function(t,e,a,r,i,n,s,o){if(!(this instanceof templateCompiler))return new templateCompiler(t,e,a,r,i,n,s,o);var l=[t,e,a,r,i,n,s,o];if(this.__factoryClass){var p,u=this;if(this.__factoryClass.forEach(function(t){p=t.apply(u,l)}),"[object Function]"==Object.prototype.toString.call(p)){if(p._classInfo.name!=templateCompiler._classInfo.name)return new p(t,e,a,r,i,n,s,o)}else if(p)return p}if(this.__traitInit){var u=this;this.__traitInit.forEach(function(t){t.apply(u,l)})}else"function"==typeof this.init&&this.init.apply(this,l)};templateCompiler._classInfo={name:"templateCompiler"},templateCompiler.prototype=new templateCompiler_prototype,"undefined"!=typeof window&&(window.templateCompiler=templateCompiler),"undefined"!=typeof window&&(window.templateCompiler_prototype=templateCompiler_prototype);